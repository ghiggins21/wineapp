{% extends 'base.html' %}
{% load static %}
{% block content %}

<script>
$(document).ready(function(){
  $('[data-toggle="tooltip"]').tooltip();
});
</script>

<div class="container h-100">
  <div class="row" style="padding-bottom: 20px">
    <div class="col-sm-12" style="padding: 2px">
      <h1 style=" display: inline; color:black; font-size:50px; font-family: Times New Roman, Times, serif;"><b>{{ wine.name }}</h1>
      <a href="{% url 'delete_wine' id=wine.id %}" data-toggle="tooltip" data-placement="left" title="Delete" style="float: right;"><img src={% static 'img/trash.png' %} alt="Logo"></a>
      <a href="{% url 'edit_wine' id=wine.id %}" data-toggle="tooltip" data-placement="right" title="Edit" style="float: right;"><img src={% static 'img/edit.png' %} alt="Logo"></a>
    </div>

  </div>
  <div class="row" style="justify-content-center">
    <div class="col-sm-6">
      {% for i in range %}
        {% if i < wine.rating %}
          <span><img src={% static 'img/star.png' %} style="vertical-align:bottom; margin:14px 0px"></span>
          <!--span style="font-size:300%; color:#1f9cff">&#10026;</span-->
        {% else %}
          <img src={% static 'img/no_star.png' %} style="vertical-align:bottom; margin:14px 0px">
          <!--span style="font-size:300%; color:grey">&#10026;</span-->
        {% endif %}
      {% endfor %}
    </div>
    <div class="col-sm-6">
       {% for key, value in rating_string.items %}
          {% if key == wine.rating %}
            <h1 style="vertical-align:middle; text-align:center; font-size:400%; font-family: Times New Roman, Times, serif; color:green;">{{ value }}</h1>
          {% endif %}
        {% endfor %}
    </div>
  </div>

  <div class="row" style="padding: 2">
    <div  class="col-sm-6" id="wine_image" style="padding: 2px">
      {% if wine.image %}
        <img class="mw-100" src="{{ wine.image.url }}" alt="image-{{ wine.image.name }} Max-width 100%">
      {% endif %}
    </div>
    <div class="col-sm-6" style="padding: 2px">
      <table class="table table text-black">
        <tr>
          <td><img src={% static 'img/winery.png' %} alt="Logo" data-toggle="tooltip" title="Winery"></td>
            {% if wine.winery %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.winery }}</td>
            {% endif %}
        </tr>

        <tr>
          <td><img src={% static 'img/calendar.png' %} alt="Logo" data-toggle="tooltip" title="Vintage"></td>
            {% if wine.vintage %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.vintage }}</td>
            {% endif %}
        </tr>

        <tr>
          <td><img src={% static 'img/location.png' %} alt="Logo" data-toggle="tooltip" title="Region"></td>
            {% if wine.region %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.region }}</td>
            {% endif %}
        </tr>

        <tr>
          {% if grapes %}
          <td><img src={% static 'img/grapes.png' %} alt="Logo" data-toggle="tooltip" title="Grapes"></td>
          <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">
            {% for grape in grapes %}
              {% if not forloop.last %}
                {{ grape.name }},
               {% else %}
                {{ grape.name }}
              {% endif %}
            {% endfor %}
          {% endif %}
          </td>
        </tr>
        <tr>
          <td><img src={% static 'img/wine-bottle_size.png' %} alt="Logo" data-toggle="tooltip" data-placement="right" title="Bottle size"></td>
            {% if wine.bottle %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.bottle }}</td>
            {% endif %}
        </tr>

        <tr>
          {% if style == 'Carcavelos' %}
            <td><img src={% static 'img/fortified.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Champagne' %}
            <td><img src={% static 'img/champagne.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Coteaux Champenois' %}
            <td><img src={% static 'img/champagne.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Crémant' %}
            <td><img src={% static 'img/sparkling.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Crémant Rosé' %}
            <td><img src={% static 'img/sparkling.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Dessert' %}
            <td><img src={% static 'img/dessert.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Dessert Red' %}
            <td><img src={% static 'img/dessert.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Fortified' %}
            <td><img src={% static 'img/fortified.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Madeira' %}
            <td><img src={% static 'img/fortified.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Orange' %}
            <td><img src={% static 'img/orange.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Port' %}
            <td><img src={% static 'img/fortified.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Red' %}
            <td><img src={% static 'img/red.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Rosé' %}
            <td><img src={% static 'img/rose.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Rosé Champagne' %}
            <td><img src={% static 'img/champagne.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Sherry' %}
            <td><img src={% static 'img/fortified.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Sparkling' %}
            <td><img src={% static 'img/sparkling.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Sparkling Red' %}
            <td><img src={% static 'img/sparkling.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'Sparkling Rosé' %}
            <td><img src={% static 'img/sparkling.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'White' %}
            <td><img src={% static 'img/white.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          {% if style == 'White Port' %}
            <td><img src={% static 'img/foritfied.png' %} alt="Logo" data-toggle="tooltip" title="Style"></td>
          {% endif %}
          <td>{{ style }}</td>
        </tr>

        <tr>
          <td><img src={% static 'img/country.png' %} alt="Logo" data-toggle="tooltip" title="Country"></td>
            {% if wine.country %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.country }}</td>
            {% endif %}
        </tr>

        <tr>
          <td><img src={% static 'img/cellar.png' %} alt="Logo" data-toggle="tooltip" title="Cellar"></td>
            {% if wine.cellar %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">  {{ wine.cellar }} </td>
            {% else %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">0</td>
            {% endif %}
        </tr>

        <tr>
          <td><img src={% static 'img/price.png' %} alt="Logo" data-toggle="tooltip" title="Price"></td>
            {% if wine.price %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">£{{ wine.price|floatformat:2 }}</td>
            {% endif %}
        </tr>

        <tr>
          <td><img src={% static 'img/shop.png' %} alt="Logo" data-toggle="tooltip" title="Bought from"></td>
            {% if wine.bought_from %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.bought_from }}</td>
            {% endif %}
        </tr>

        <tr>
          <td><img src={% static 'img/abv.png' %} alt="Logo" data-toggle="tooltip" title="abv"></td>
            {% if wine.abv %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.abv }}% abv</td>
            {% endif %}
        </tr>

        <tr>
          <td><img src={% static 'img/date_purchased.png' %} alt="Logo" data-toggle="tooltip" title="Date purchased"></td>
            {% if wine.acquired %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.acquired }}</td>
            {% endif %}
        </tr>

        <tr>
          <td><img src={% static 'img/drink_by.png' %} alt="Logo" data-toggle="tooltip" title="Drink by"></td>
            {% if wine.drink_by %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.drink_by }}</td>
            {% endif %}
        </tr>

        <tr>
          <td><img src={% static 'img/posted_on.png' %} alt="Logo" data-toggle="tooltip" title="Posted on"></td>
            {% if wine.posted_on %}
              <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.posted_on }}</td>
            {% endif %}
        </tr>
      </table>
    </div>
  </div>
  <div class="row" style="padding: 2px">
    <div class="col-sm-12" style="padding: 2px">
      <table class="table table text-black">
        <tr>
          <td><img src={% static 'img/review.png' %} alt="Logo" data-toggle="tooltip" title="Review"></td>
          <td class="d-flex justify-content-center" style="font-size:25px; font-family: 'Times New Roman', Times, serif;  color:red;">Wine Review</td>
        </tr>
        <tr>
          <td><img src={% static 'img/eye.png' %} alt="Logo" data-toggle="tooltip" title="Colour"></td>
          <td  style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.colour }}</td>
        </tr>
        <tr>
          <td><img src={% static 'img/nose.png' %} alt="Logo" data-toggle="tooltip" title="Aroma"></td>
          <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.aroma }}</td>
        </tr>
        <tr>
          <td><img src={% static 'img/taste.png' %} alt="Logo"data-toggle="tooltip" title="Taste"></td>
          <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.taste }}</td>
        </tr>
        <tr>
          <td>
            {% if wine.rating < 3 %}
              <img src={% static 'img/thumbs-down.png' %} alt="Logo" data-toggle="tooltip" title="Overall">
            {% elif wine.rating > 3 and wine.rating < 7 %}
              <img src={% static 'img/so-so.png' %} alt="Logo" data-toggle="tooltip" title="Overall">
              {% elif wine.rating >= 7 %}
                <img src={% static 'img/thumbs-up.png' %} alt="Logo" data-toggle="tooltip" title="Overall">
            {% endif %}
          </td>
          <td style="font-size:15px;font-family: 'Times New Roman', Times, serif;">{{ wine.overall }}</td>
        </tr>
      </table>
    </div>
  </div>
</div>
{% endblock %}
